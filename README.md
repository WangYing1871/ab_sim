
2023.12.22提交，主要有以下修改：
探测器结构做了修改，使用新做好的圆形入射窗TPC（TPC5）的结构
修复了数字化中的几个bug
加入了对信号在阻性层影响下扩散至临近通道的模拟

# 简介

这个包是用于新版TPC（TPC4）的模拟及数据保存
探测器结构为由中间PCB隔开的上方反符合探测器和下方TPC，给git中提供了两个运行脚本，即`run_beta_new_geometry.mac`和`bkg.mac`，分别为对Sr90放射源（信号）和环境gamma（本底）的模拟。模拟的默认输出文件名在mac文件中指定：
`/analysis/setFileName gamma_bkg_test`
默认输出文件为在该字段前加`Rawroot_`的root文件，这个输出文件已经经过数字化处理，即包含了原始波形等信息的原始数据文件，结构与测试数据经解包后得到的相同，只不过多保留了几个branch用于MCtruth信息的保存，可供检查使用。此外还可以选择在`HistoManager.cc`中打开其它几个输出文件选项，可以保存一些事例径迹、初始能量等信息，作为额外的root文件输出，目前没有启用。

模拟中可能需要调整的地方：

## 1. 探测器几何

根据实际情况调整

## 2. 模拟径迹判选条件

现有输出数据是经过一些简单的筛选后保留下的，主要是：

- 粒子是电子
- 粒子不是电离生成的
- 反符合探测器没有击中

可以根据实际需要进行修改，即`TrackingAction`和`SteppingAction`里的相应位置。

## 3. 数字化参数和算法

现有数字化参数包括扩散、漂移系数、增益、电子学响应函数、读出通道数等，需要根据实际情况调整。